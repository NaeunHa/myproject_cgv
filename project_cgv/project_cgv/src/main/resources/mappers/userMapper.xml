<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org/DTD Config 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="com.springboot.cgv.domain.user.UserRepository">

	<select id="checkPhone" parameterType="com.springboot.cgv.domain.user.User" resultType="Integer">
		select
			count(phone)
		from
			user_mst
		where
			phone = #{phone};
	</select>
	
	<select id="checkUserId" parameterType="com.springboot.cgv.domain.user.User" resultType="Integer">
		select
			count(userid)
		from
			user_mst
		where
			userid = #{userid};
	</select>
	
	<update id="insertUser" parameterType="com.springboot.cgv.domain.user.User">
		insert into
			user_mst
		value(
			0,
			#{userid},
			#{username},
			#{password},
			#{birthday},
			#{phone},
			#{email},
			#{role},
			null,
			now(),
			now()
		);
	</update>
	
	<select id="getUserById" resultType="com.springboot.cgv.domain.user.User" parameterType="String">
		select
			*
		from 
			user_mst
		where
			userid = #{userid};
	</select>
	
</mapper>